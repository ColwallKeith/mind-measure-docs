# How to Add Documentation to Mind Measure Docs

## Overview
This guide explains how to safely add new documentation to the Mind Measure documentation site at `https://mindmeasuredocs.vercel.app/` without breaking existing functionality.

## Critical Background
- **Documentation Site**: Built with Nextra (Next.js-based static site generator)
- **Deployment**: Vercel project named `docs` (NOT `mind_measure_docs`)
- **Repository Structure**: Documentation lives in `/docs/` folder of the main repository
- **Domain**: `mindmeasuredocs.vercel.app` points to the `docs` Vercel project

## âš ï¸ IMPORTANT: What NOT to Do
1. **Never add emojis or icons** to documentation headers - keep it professional
2. **Never create duplicate files** (e.g., `architecture 3.mdx`)
3. **Never add authentication code** to the docs site
4. **Never deploy to the wrong Vercel project** (`mind_measure_docs` has duplicates)

## Step-by-Step Process

### 1. Understanding the Structure
```
docs/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ _meta.json          # Main navigation structure
â”‚   â”œâ”€â”€ index.mdx           # Homepage
â”‚   â”œâ”€â”€ architecture.mdx    # Individual pages
â”‚   â””â”€â”€ cms/                # Section folders
â”‚       â”œâ”€â”€ _meta.json      # Section navigation
â”‚       â”œâ”€â”€ index.mdx       # Section landing page
â”‚       â””â”€â”€ user-guide.mdx  # Section pages
â”œâ”€â”€ theme.config.tsx        # Site configuration
â””â”€â”€ package.json           # Dependencies
```

### 2. Adding a New Section

#### Step 2a: Create the folder structure
```bash
cd docs/pages
mkdir new-section
```

#### Step 2b: Create section navigation
Create `docs/pages/new-section/_meta.json`:
```json
{
  "index": "Overview",
  "guide": "User Guide",
  "technical": "Technical Details"
}
```

#### Step 2c: Create section pages
Create `docs/pages/new-section/index.mdx`:
```markdown
# New Section Documentation

Brief overview of the new section.

## Getting Started
...
```

#### Step 2d: Update main navigation
Edit `docs/pages/_meta.json` and add your section:
```json
{
  "index": "Overview",
  "architecture": "Architecture",
  "mobile": "Mobile App",
  "backend": "Backend",
  "supabase": "Database & RLS",
  "methodology": "Assessment Methodology",
  "deployment": "Deployment",
  "privacy": "Privacy & Legal",
  "development": "Development",
  "adr": "ADRs",
  "playbooks": "Playbooks",
  "admin-ui": "Admin UI",
  "api": "API",
  "cms": "CMS Documentation",
  "new-section": "New Section"
}
```

### 3. Adding a Single Page

#### Step 3a: Create the MDX file
Create `docs/pages/new-page.mdx`:
```markdown
# New Page Title

Content goes here...
```

#### Step 3b: Update navigation
Add to `docs/pages/_meta.json`:
```json
{
  "existing-pages": "...",
  "new-page": "New Page"
}
```

### 4. Testing Locally

#### Step 4a: Start local development server
```bash
cd docs
npm run dev
```

#### Step 4b: Verify in browser
- Open `http://localhost:3000`
- Check navigation appears correctly
- Verify no duplicate items
- Ensure professional appearance (no emojis)

### 5. Deployment

#### Step 5a: Commit changes
```bash
git add docs/
git commit -m "Add new documentation section"
git push
```

#### Step 5b: Verify deployment
- Check `https://mindmeasuredocs.vercel.app/`
- Ensure changes appear correctly
- Test all navigation links

## Troubleshooting Common Issues

### Issue: Navigation item not appearing
**Solution**: Check `_meta.json` syntax - must be valid JSON

### Issue: Duplicate menu items
**Solution**: 
1. Check for duplicate files (e.g., `page.mdx` and `page 2.mdx`)
2. Delete duplicates
3. Clear Vercel cache: `rm -rf .vercel && vercel --prod`

### Issue: Emojis appearing in navigation
**Solution**: Remove all emojis from MDX headers:
```markdown
# âŒ Bad: ğŸ“š User Guide
# âœ… Good: User Guide
```

### Issue: Site broken after deployment
**Solution**:
1. Check Vercel deployment logs
2. Revert to last working commit
3. Redeploy: `vercel --prod`

### Issue: Wrong Vercel project
**Solution**: Ensure `.vercel/project.json` contains:
```json
{
  "projectId": "[docs-project-id]",
  "orgId": "[your-org-id]"
}
```

## File Templates

### Section Landing Page Template
```markdown
# Section Name

Brief description of what this section covers.

## Overview
...

## Key Features
- Feature 1
- Feature 2

## Getting Started
1. Step 1
2. Step 2

## Next Steps
- [Sub-page 1](./sub-page-1)
- [Sub-page 2](./sub-page-2)
```

### Regular Page Template
```markdown
# Page Title

Brief introduction to the page content.

## Section 1

Content here...

### Subsection

More detailed content...

## Section 2

Additional content...

## Related Pages
- [Related Page 1](../other-section/page)
- [Related Page 2](./another-page)
```

## Best Practices

### Content
- âœ… Use clear, professional language
- âœ… Include code examples where relevant
- âœ… Add cross-references to related pages
- âœ… Keep sections focused and concise
- âŒ Don't use emojis or unprofessional icons
- âŒ Don't duplicate existing content

### Structure
- âœ… Use logical folder organization
- âœ… Keep file names lowercase with hyphens
- âœ… Update navigation files (`_meta.json`)
- âŒ Don't create deeply nested structures
- âŒ Don't use spaces in file names

### Testing
- âœ… Always test locally before deploying
- âœ… Check all navigation links work
- âœ… Verify mobile responsiveness
- âŒ Don't deploy untested changes
- âŒ Don't skip the local development step

## Emergency Rollback

If something breaks:

1. **Identify last working deployment** in Vercel dashboard
2. **Revert to that deployment**:
   ```bash
   # Find the deployment ID from Vercel dashboard
   vercel rollback [deployment-url]
   ```
3. **Fix issues locally** before redeploying
4. **Test thoroughly** before pushing again

## Contact & Support

- **Repository**: [mind-measure-core](https://github.com/mindmeasure/mind-measure-core)
- **Documentation Site**: https://mindmeasuredocs.vercel.app/
- **Vercel Project**: `docs` (not `mind_measure_docs`)

---

**Remember**: When in doubt, test locally first, keep it professional, and don't break the existing structure!
